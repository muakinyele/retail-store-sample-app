name: Terraform


on:
pull_request:
branches: [ main ]
push:
branches: [ main ]


permissions:
id-token: write
contents: read


jobs:
terraform:
name: Terraform Plan/Apply
runs-on: ubuntu-latest


steps:
- name: Checkout
uses: actions/checkout@v4


- name: Configure AWS credentials via OIDC
uses: aws-actions/configure-aws-credentials@v2
with:
role-to-assume: arn:aws:iam::<ACCOUNT_ID>:role/github-actions-terraform
aws-region: